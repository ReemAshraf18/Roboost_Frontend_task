<!-- app-header.component.html -->
<header class="site-header">
  <!-- Top Bar -->
  <div class="top-bar py-2 bg-light border-bottom">
    <div class="container">
      <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
        <div class="contact-info d-flex gap-4">
          <div class="contact-item">
            <i class="fas fa-phone small"></i>
            <span class="ms-1">+966556754472 |</span>
          </div>
          <div class="contact-item">
            <i class="fa-regular fa-envelope"></i>
            <span class="ms-1">Support&#64;salla.sa</span>
          </div>
        </div>
        <div class="right-info d-flex align-items-center gap-3 text-muted small flex-wrap">
          <span>{{ 'HEADER.CONTACT_US' | translate }} |</span>
          <span>{{ 'HEADER.RETURN_POLICY' | translate }} |</span>
          <span>{{ 'HEADER.COUNTRY' | translate }} |</span>
          <div class="country-flag"><img src="assets/images/s.jpg" class="country-flag" alt=""></div>
          <span (click)="toggleLanguage()" style="cursor: pointer; text-decoration: underline;">
            {{ 'HEADER.LANGUAGE_CURRENCY' | translate }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Header -->
  <div class="main-header py-3">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-auto">
          <div class="logo d-flex align-items-center gap-2">
            <div class="logo-icon text-success">
              <i class="fas fa-shopping-cart fa-lg"></i>
            </div>
            <span class="logo-text fw-bold">{{ 'HEADER.STORE_NAME' | translate }}</span>
          </div>
        </div>

        <div class="col">
          <div class="search-container position-relative">
            <input type="text" class="form-control search-input ps-3" [(ngModel)]="searchTerm"
              (keyup.enter)="onSearch()" placeholder="{{ 'HEADER.SEARCH_PLACEHOLDER' | translate }}">
            <button class="btn position-absolute top-50 translate-middle-y fas fa-search search-icon p-2" (click)="onSearch()">
            </button>
          </div>
        </div>

        <div class="col-auto">
          <div class="user-actions d-flex gap-3">
            <a href="#" class="d-flex align-items-center gap-2 text-decoration-none">
              <img src="assets/images/Sample_User_Icon.png" class="user-icon">
              <div>
                <div style="color: rgb(169, 166, 166);">{{ 'HEADER.WELCOME' | translate }}</div>
                <div class="small text-muted">{{ 'HEADER.LOGIN' | translate }}</div>

              </div>
            </a>
            <a href="#" class="d-flex align-items-center gap-2 text-decoration-none">
              <div class="position-relative p-2">
                <i class="fas fa-shopping-cart fa-lg text-muted"></i>
                <span class="cart-count badge bg-danger position-absolute top-0 start-100 translate-middle">
                  {{ totalItems() }}
                </span>
              </div>
              <div>
                <div class="text-muted fw-bold">
                  {{ subtotal() | number }} {{ 'HEADER.CURRENCY' | translate }}
                </div>
                <div class="small text-muted">{{ 'HEADER.CART' | translate }}</div>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="navigation">
    <div class="container d-flex justify-content-center">
      <ul class="nav nav-pills flex-wrap py-2">
        <li class="nav-item dropdown" *ngFor="let item of navItems">
          <a class="nav-link text-white dropdown-toggle" href="#" data-bs-toggle="dropdown">
            {{ item.label | translate }}
          </a>
          <ul class="dropdown-menu">
            <li *ngFor="let sub of item.subItems">
              <a class="dropdown-item" href="#">{{ sub | translate }}</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>
</header>